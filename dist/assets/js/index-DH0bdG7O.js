import{ao as e,r as a,an as t,l,k as s,ax as n,ac as r,f as o,o as i,j as d,n as c,ae as u,c as p,i as g,ay as v,h,z as m,B as f,R as w,J as y,al as b,A as S,W as k,O as C,L as D,ah as _,Q as x,a5 as T,I as W,P as V,E as O,am as I,T as E,K as z,ai as F,az as M,af as L,D as A,U,aA as P,u as j,S as R,v as q,C as N,au as $}from"./vue-vendor-lxuZLjQQ.js";import{E as Y,a as B,b as J,c as Q,d as K,e as H,t as Z,f as G,h as X,s as ee,g as ae,i as te,j as le,k as se,l as ne,m as re}from"./element-plus-vendor-La46wdZ1.js";import{o as oe}from"./utils-vendor-B3QPy4uZ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const ie={success(e,a="成功"){B({type:"success",message:e,duration:3e3})},error(e,a="错误"){B({type:"error",message:e,duration:5e3,showClose:!0})},warning(e,a="警告"){B({type:"warning",message:e,duration:4e3})},info(e,a="提示"){B({type:"info",message:e,duration:3e3})},notify(e,a,t="info",l=4500){Y({title:a,message:e,type:t,duration:l,position:"top-right"})},handleApiError(e,a="操作失败，请稍后重试"){var t;return"QuotaExceededError"===e.name?this.error("存储空间不足，请清理一些数据后重试"):"NetworkError"===e.name||(null==(t=e.message)?void 0:t.includes("network"))?this.error("网络连接错误，请检查您的网络连接"):e.message?this.error(e.message):this.error(a),e}};
/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let de;const ce=e=>de=e,ue=Symbol();function pe(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var ge,ve;(ve=ge||(ge={})).direct="direct",ve.patchObject="patch object",ve.patchFunction="patch function";const he=()=>{};function me(e,a,t,l=he){e.push(a);const s=()=>{const t=e.indexOf(a);t>-1&&(e.splice(t,1),l())};return!t&&o()&&i(s),s}function fe(e,...a){e.slice().forEach(e=>{e(...a)})}const we=e=>e(),ye=Symbol(),be=Symbol();function Se(e,a){e instanceof Map&&a instanceof Map?a.forEach((a,t)=>e.set(t,a)):e instanceof Set&&a instanceof Set&&a.forEach(e.add,e);for(const t in a){if(!a.hasOwnProperty(t))continue;const l=a[t],r=e[t];pe(r)&&pe(l)&&e.hasOwnProperty(t)&&!s(l)&&!n(l)?e[t]=Se(r,l):e[t]=l}return e}const ke=Symbol();function Ce(e){return!pe(e)||!Object.prototype.hasOwnProperty.call(e,ke)}const{assign:De}=Object;function _e(e){return!(!s(e)||!e.effect)}function xe(t,o,i={},u,p,g){let v;const h=De({actions:{}},i),m={deep:!0};let f,w,y,b=[],S=[];const k=u.state.value[t];let C;function D(e){let a;f=w=!1,"function"==typeof e?(e(u.state.value[t]),a={type:ge.patchFunction,storeId:t,events:y}):(Se(u.state.value[t],e),a={type:ge.patchObject,payload:e,storeId:t,events:y});const l=C=Symbol();c().then(()=>{C===l&&(f=!0)}),w=!0,fe(b,a,u.state.value[t])}g||k||(u.state.value[t]={}),a({});const _=g?function(){const{state:e}=i,a=e?e():{};this.$patch(e=>{De(e,a)})}:he;const x=(e,a="")=>{if(ye in e)return e[be]=a,e;const l=function(){ce(u);const a=Array.from(arguments),s=[],n=[];let r;fe(S,{args:a,name:l[be],store:W,after:function(e){s.push(e)},onError:function(e){n.push(e)}});try{r=e.apply(this&&this.$id===t?this:W,a)}catch(o){throw fe(n,o),o}return r instanceof Promise?r.then(e=>(fe(s,e),e)).catch(e=>(fe(n,e),Promise.reject(e))):(fe(s,r),r)};return l[ye]=!0,l[be]=a,l},T={_p:u,$id:t,$onAction:me.bind(null,S),$patch:D,$reset:_,$subscribe(e,a={}){const l=me(b,e,a.detached,()=>s()),s=v.run(()=>d(()=>u.state.value[t],l=>{("sync"===a.flush?w:f)&&e({storeId:t,type:ge.direct,events:y},l)},De({},m,a)));return l},$dispose:function(){v.stop(),b=[],S=[],u._s.delete(t)}},W=l(T);u._s.set(t,W);const V=(u._a&&u._a.runWithContext||we)(()=>u._e.run(()=>(v=e()).run(()=>o({action:x}))));for(const e in V){const a=V[e];if(s(a)&&!_e(a)||n(a))g||(k&&Ce(a)&&(s(a)?a.value=k[e]:Se(a,k[e])),u.state.value[t][e]=a);else if("function"==typeof a){const t=x(a,e);V[e]=t,h.actions[e]=a}}return De(W,V),De(r(W),V),Object.defineProperty(W,"$state",{get:()=>u.state.value[t],set:e=>{D(a=>{De(a,e)})}}),u._p.forEach(e=>{De(W,v.run(()=>e({store:W,app:u._a,pinia:u,options:h})))}),k&&g&&i.hydrate&&i.hydrate(W.$state,k),f=!0,w=!0,W}
/*! #__NO_SIDE_EFFECTS__ */function Te(e,a,l){let s;const n="function"==typeof a;function r(l,r){const o=v();(l=l||(o?g(ue,null):null))&&ce(l),(l=de)._s.has(e)||(n?xe(e,a,s,l):function(e,a,l){const{state:s,actions:n,getters:r}=a,o=l.state.value[e];let i;i=xe(e,function(){o||(l.state.value[e]=s?s():{});const a=u(l.state.value[e]);return De(a,n,Object.keys(r||{}).reduce((a,s)=>(a[s]=t(p(()=>{ce(l);const a=l._s.get(e);return r[s].call(a,a)})),a),{}))},a,l,0,!0)}(e,s,l));return l._s.get(e)}return s=n?l:a,r.$id=e,r}const We="words",Ve="diaries";let Oe;function Ie(){return Oe||(Oe=async function(){return oe("english_diary_db",1,{upgrade(e){e.objectStoreNames.contains(We)||e.createObjectStore(We,{keyPath:"id"}).createIndex("date","date",{unique:!1}),e.objectStoreNames.contains(Ve)||e.createObjectStore(Ve,{keyPath:"date"})}})}()),Oe}const Ee={getAll:async()=>(await Ie()).getAll(We),getByDate:async e=>(await Ie()).transaction(We,"readonly").store.index("date").getAll(e),async add(e){e.id||(e.id=Date.now().toString()),e.date||(e.date=(new Date).toISOString().split("T")[0]);return(await Ie()).add(We,e)},update:async e=>(await Ie()).put(We,e),delete:async e=>(await Ie()).delete(We,e),async importFromLocalStorage(){try{const e=localStorage.getItem("words");if(e){const a=JSON.parse(e),t=(await Ie()).transaction(We,"readwrite");for(const e of a)await t.store.put(e);return await t.done,!0}}catch(e){}return!1}},ze={getAll:async()=>(await Ie()).getAll(Ve),getByDate:async e=>(await Ie()).get(Ve,e),async save(e){e.date||(e.date=(new Date).toISOString().split("T")[0]);return(await Ie()).put(Ve,e)},delete:async e=>(await Ie()).delete(Ve,e),async importFromLocalStorage(){try{const e=localStorage.getItem("diaries");if(e){const a=JSON.parse(e),t=(await Ie()).transaction(Ve,"readwrite");for(const e of a)await t.store.put(e);return await t.done,!0}}catch(e){}return!1}},Fe={async exportAll(){try{const e=await Ee.getAll();return{words:e,diaries:await ze.getAll(),exportDate:(new Date).toISOString()}}catch(e){return null}},async importData(e){try{if(!e||!e.words&&!e.diaries)return!1;const a=await Ie();if(e.words&&e.words.length>0){const t=a.transaction(We,"readwrite");for(const a of e.words)await t.store.put(a);await t.done}if(e.diaries&&e.diaries.length>0){const t=a.transaction(Ve,"readwrite");for(const a of e.diaries)await t.store.put(a);await t.done}return!0}catch(a){return!1}}};const Me=Te("word",{state:()=>({words:[],diaries:[],lastUpdated:null,isLoading:!1,initialized:!1}),getters:{totalWords:e=>e.words.length,todayWords:e=>{const a=(new Date).toISOString().split("T")[0];return e.words.filter(e=>e.date===a).length},studyDays:e=>new Set(e.words.map(e=>e.date)).size,getWordsByDate:e=>a=>a?e.words.filter(e=>e.date===a):e.words,getDiaries:e=>e.diaries,getDiaryByDate:e=>a=>e.diaries.find(e=>e.date===a)},actions:{async initialize(){if(!this.initialized){this.isLoading=!0;try{await async function(){await Ee.importFromLocalStorage(),await ze.importFromLocalStorage()}(),await this.loadFromDB(),this.initialized=!0}catch(e){}finally{this.isLoading=!1}}},async loadFromDB(){try{this.isLoading=!0,this.words=await Ee.getAll(),this.diaries=await ze.getAll(),this.lastUpdated=new Date}catch(e){}finally{this.isLoading=!1}},async addWord(e){e.id||(e.id=Date.now().toString()),e.date||(e.date=(new Date).toISOString().split("T")[0]);try{return await Ee.add(e),this.words.push(e),this.lastUpdated=new Date,e}catch(a){}},async updateWord(e){try{await Ee.update(e);const a=this.words.findIndex(a=>a.id===e.id);return-1!==a&&(this.words[a]={...this.words[a],...e},this.lastUpdated=new Date,!0)}catch(a){return!1}},async deleteWord(e){try{await Ee.delete(e);const a=this.words.findIndex(a=>a.id===e);return-1!==a&&(this.words.splice(a,1),this.lastUpdated=new Date,!0)}catch(a){return!1}},async addDiary(e){e.date||(e.date=(new Date).toISOString().split("T")[0]);try{await ze.save(e);const a=this.diaries.findIndex(a=>a.date===e.date);-1!==a?this.diaries[a]=e:this.diaries.push(e),this.lastUpdated=new Date}catch(a){}},loadFromLocalStorage(){try{const e=localStorage.getItem("words");e&&(this.words=JSON.parse(e)),this.lastUpdated=new Date}catch(e){}},saveToLocalStorage(){try{localStorage.setItem("words",JSON.stringify(this.words)),this.lastUpdated=new Date}catch(e){}},async exportData(){try{return await Fe.exportAll()}catch(e){return{words:this.words,exportDate:(new Date).toISOString()}}},async importData(e){if(!e||!e.words)return!1;try{const a=await Fe.importData(e);return a&&await this.loadFromDB(),a}catch(a){return!!e.words&&(this.words=e.words,this.saveToLocalStorage(),!0)}},async clearAllData(){try{this.isLoading=!0;const e=await oe("english_diary_db",1),a=e.transaction("words","readwrite");await a.objectStore("words").clear(),await a.done;const t=e.transaction("diaries","readwrite");return await t.objectStore("diaries").clear(),await t.done,this.words=[],this.diaries=[],this.lastUpdated=new Date,localStorage.removeItem("words"),localStorage.removeItem("diaries"),!0}catch(e){return!1}finally{this.isLoading=!1}}}}),Le=(e,a)=>{const t=e.__vccOpts||e;for(const[l,s]of a)t[l]=s;return t},Ae={class:"add-word-container"},Ue={class:"container"},Pe={class:"form-section"},je={class:"form-section"},Re={class:"form-actions"},qe={class:"quick-add-content"},Ne={key:0,class:"recent-words"},$e={class:"recent-words-list"};const Ye=Le({name:"AddWord",emits:["word-added"],setup(e,{emit:t}){const s=Me(),n=a(null);a(null);const r=a(!1),o=a(""),i=a([]),c=l({word:"",phonetic:"",partOfSpeech:"",meaning:"",example:"",tags:"",synonyms:"",date:(new Date).toISOString().split("T")[0]}),u=e=>s.words.some(a=>a.word.toLowerCase()===e.toLowerCase()),p=async()=>{const e=c.tags?c.tags.split(",").map(e=>e.trim()).filter(e=>e):[],a={word:c.word.trim(),phonetic:c.phonetic.trim(),partOfSpeech:c.partOfSpeech,meaning:c.meaning.trim(),example:c.example.trim(),tags:e,synonyms:c.synonyms.trim(),date:c.date};await s.addWord(a),i.value.unshift(a.word),i.value.length>5&&(i.value=i.value.slice(0,5)),t("word-added",a);const l=new CustomEvent("wordUpdated",{detail:a});return window.dispatchEvent(l),a},g=()=>{var e;null==(e=n.value)||e.resetFields(),Object.assign(c,{word:"",phonetic:"",partOfSpeech:"",meaning:"",example:"",tags:"",synonyms:"",date:(new Date).toISOString().split("T")[0]})},v=()=>{};return h(()=>{window.addEventListener("resize",v)}),d(()=>[c.word,c.meaning],([e,a])=>{}),{wordFormRef:n,wordForm:c,rules:{word:[{required:!0,message:"请输入单词",trigger:"blur"},{pattern:/^[\w\s\-\']+$/,message:"单词不能包含中文字符或特殊字符",trigger:"blur"}],meaning:[{required:!0,message:"请输入中文意思",trigger:"blur"}],date:[{required:!0,message:"请选择日期",trigger:"change"}]},submitting:r,quickAddText:o,recentAddedWords:i,handleWordInput:()=>{c.word=c.word.toLowerCase()},submitForm:()=>{var e;null==(e=n.value)||e.validate(async e=>{if(e){if(u(c.word))return void B.warning("该单词已存在，请检查是否拼写错误或尝试添加其他单词");r.value=!0;try{await p(),B.success({message:"单词添加成功！",duration:2e3,showClose:!0}),g()}catch(a){B.error("添加单词失败，请重试")}finally{r.value=!1}}})},resetForm:g,quickAdd:async()=>{if(!o.value.trim())return void B.warning("请输入单词和释义");const e=o.value.trim().split("-");if(e.length<2)return void B.warning("格式错误，请使用：单词-释义");const a=e[0].trim(),t=e.slice(1).join("-").trim();if(a&&t){if(u(a))return B.warning("该单词已存在"),void(o.value="");r.value=!0;try{c.word=a,c.meaning=t,await p(),B.success({message:"快速添加成功！",duration:1500,showClose:!0}),o.value="";const e=c.date;g(),c.date=e}catch(l){B.error("添加失败，请重试")}finally{r.value=!1}}else B.warning("单词和释义不能为空")},removeRecentWord:e=>{i.value.splice(e,1)}}}},[["render",function(e,a,t,l,s,n){const r=b("el-input"),o=b("el-form-item"),i=b("el-col"),d=b("el-row"),c=b("el-option"),u=b("el-select"),p=b("el-date-picker"),g=b("el-button"),v=b("el-form"),h=b("el-card"),O=b("el-tag");return S(),m("div",Ae,[a[18]||(a[18]=f("div",{class:"background-decoration"},[f("div",{class:"bg-circle bg-circle-1"}),f("div",{class:"bg-circle bg-circle-2"}),f("div",{class:"bg-gradient"})],-1)),f("div",Ue,[w(h,{class:"add-word-card gradient-card"},{header:y(()=>[...a[10]||(a[10]=[f("div",{class:"card-header"},[f("div",{class:"header-icon"},[f("i",{class:"fas fa-plus-circle"})]),f("h2",{class:"gradient-text"},"添加单词")],-1)])]),default:y(()=>[w(v,{ref:"wordFormRef",model:l.wordForm,rules:l.rules,"label-width":"100px",class:"word-form",onSubmit:a[8]||(a[8]=k(()=>{},["prevent"]))},{default:y(()=>[f("div",Pe,[a[11]||(a[11]=f("h3",{class:"section-title"},"基础信息",-1)),w(d,{gutter:20},{default:y(()=>[w(i,{xs:24,sm:12},{default:y(()=>[w(o,{label:"英语单词",prop:"word"},{default:y(()=>[w(r,{modelValue:l.wordForm.word,"onUpdate:modelValue":a[0]||(a[0]=e=>l.wordForm.word=e),placeholder:"请输入单词",class:"form-input",clearable:"",onInput:l.handleWordInput},null,8,["modelValue","onInput"])]),_:1})]),_:1}),w(i,{xs:24,sm:12},{default:y(()=>[w(o,{label:"音标",prop:"phonetic"},{default:y(()=>[w(r,{modelValue:l.wordForm.phonetic,"onUpdate:modelValue":a[1]||(a[1]=e=>l.wordForm.phonetic=e),placeholder:"例如: /wɜːd/",class:"form-input",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),w(o,{label:"词性",prop:"partOfSpeech"},{default:y(()=>[w(u,{modelValue:l.wordForm.partOfSpeech,"onUpdate:modelValue":a[2]||(a[2]=e=>l.wordForm.partOfSpeech=e),placeholder:"请选择词性",class:"form-select",clearable:""},{default:y(()=>[w(c,{label:"名词",value:"n."}),w(c,{label:"动词",value:"v."}),w(c,{label:"形容词",value:"adj."}),w(c,{label:"副词",value:"adv."}),w(c,{label:"介词",value:"prep."}),w(c,{label:"连词",value:"conj."}),w(c,{label:"代词",value:"pron."}),w(c,{label:"数词",value:"num."}),w(c,{label:"感叹词",value:"interj."}),w(c,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),w(o,{label:"中文意思",prop:"meaning"},{default:y(()=>[w(r,{modelValue:l.wordForm.meaning,"onUpdate:modelValue":a[3]||(a[3]=e=>l.wordForm.meaning=e),type:"textarea",rows:3,placeholder:"请输入中文意思",class:"form-textarea",resize:"vertical"},null,8,["modelValue"])]),_:1})]),f("div",je,[a[12]||(a[12]=f("h3",{class:"section-title"},"扩展信息",-1)),w(d,{gutter:20},{default:y(()=>[w(i,{xs:24,sm:12},{default:y(()=>[w(o,{label:"标签",prop:"tags"},{default:y(()=>[w(r,{modelValue:l.wordForm.tags,"onUpdate:modelValue":a[4]||(a[4]=e=>l.wordForm.tags=e),placeholder:"用逗号分隔，例如：常用, 商务",class:"form-input",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),w(i,{xs:24,sm:12},{default:y(()=>[w(o,{label:"日期",prop:"date"},{default:y(()=>[w(p,{modelValue:l.wordForm.date,"onUpdate:modelValue":a[5]||(a[5]=e=>l.wordForm.date=e),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",class:"form-datepicker"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),w(o,{label:"例句",prop:"example"},{default:y(()=>[w(r,{modelValue:l.wordForm.example,"onUpdate:modelValue":a[6]||(a[6]=e=>l.wordForm.example=e),type:"textarea",rows:2,placeholder:"请输入例句",class:"form-textarea",resize:"vertical"},null,8,["modelValue"])]),_:1}),w(o,{label:"同义词/反义词",prop:"synonyms"},{default:y(()=>[w(r,{modelValue:l.wordForm.synonyms,"onUpdate:modelValue":a[7]||(a[7]=e=>l.wordForm.synonyms=e),placeholder:"用逗号分隔",class:"form-input",clearable:""},null,8,["modelValue"])]),_:1})]),f("div",Re,[w(g,{onClick:l.resetForm,loading:l.submitting,class:"clear-btn"},{default:y(()=>[...a[13]||(a[13]=[f("i",{class:"fas fa-redo"},null,-1),C(" 重置 ",-1)])]),_:1},8,["onClick","loading"]),w(g,{onClick:l.submitForm,loading:l.submitting,class:"search-btn"},{default:y(()=>[...a[14]||(a[14]=[f("i",{class:"fas fa-save"},null,-1),C(" 保存单词 ",-1)])]),_:1},8,["onClick","loading"])])]),_:1},8,["model","rules"])]),_:1}),w(h,{class:"quick-add-card gradient-card"},{header:y(()=>[...a[15]||(a[15]=[f("div",{class:"card-header"},[f("div",{class:"header-icon"},[f("i",{class:"fas fa-bolt"})]),f("h2",{class:"gradient-text"},"快速添加")],-1)])]),default:y(()=>[f("div",qe,[w(r,{modelValue:l.quickAddText,"onUpdate:modelValue":a[9]||(a[9]=e=>l.quickAddText=e),placeholder:"格式：单词-释义，例如：apple-苹果",class:"form-input quick-add-input",clearable:"",onKeyup:_(l.quickAdd,["enter"]),"show-word-limit":"",maxlength:"100"},null,8,["modelValue","onKeyup"]),w(g,{onClick:l.quickAdd,loading:l.submitting,class:"quick-add-btn"},{default:y(()=>[...a[16]||(a[16]=[f("i",{class:"fas fa-plus"},null,-1),C(" 快速添加 ",-1)])]),_:1},8,["onClick","loading"])]),l.recentAddedWords.length>0?(S(),m("div",Ne,[a[17]||(a[17]=f("h4",null,"最近添加：",-1)),f("div",$e,[(S(!0),m(x,null,T(l.recentAddedWords,(e,a)=>(S(),W(O,{key:a,closable:!0,effect:"plain",class:"recent-word-tag",onClose:e=>l.removeRecentWord(a)},{default:y(()=>[C(V(e),1)]),_:2},1032,["onClose"]))),128))])])):D("",!0)]),_:1})])])}],["__scopeId","data-v-8f0f7764"]]),Be={class:"word-list-container"},Je={class:"container"},Qe={class:"header-section"},Ke={key:0,class:"current-date-info"},He={class:"filter-section p-4"},Ze={class:"date-picker-wrapper"},Ge={class:"search-wrapper"},Xe={class:"word-list"},ea={key:0,class:"loading-container"},aa={key:2,class:"pagination-container"},ta={class:"text-red-600"},la={class:"dialog-footer"};const sa=Le({name:"ViewWords",emits:["edit-word","data-updated"],setup(e,{emit:t}){const l=()=>(new Date).toISOString().split("T")[0],s=Me(),n=a(!1),r=a(l()),o=a("newest"),i=a(1),d=a(10),c=a(!1),u=a(null),g=a(!1),v=p(()=>s.words),m=async()=>{n.value=!0;try{await s.loadFromDB()}catch(e){B.error("加载数据失败")}finally{n.value=!1}},f=p(()=>{let e=[...v.value];switch(r.value&&(e=e.filter(e=>e.date===r.value)),o.value){case"newest":e.sort((e,a)=>new Date(a.date)-new Date(e.date));break;case"oldest":e.sort((e,a)=>new Date(e.date)-new Date(a.date));break;case"word-asc":e.sort((e,a)=>e.word.localeCompare(a.word));break;case"word-desc":e.sort((e,a)=>a.word.localeCompare(e.word))}return e}),w=p(()=>{const e=(i.value-1)*d.value,a=e+d.value;return f.value.slice(e,a)}),y=()=>{i.value=1};return h(()=>{m();const e=()=>{m()};return window.addEventListener("wordUpdated",e),()=>{window.removeEventListener("wordUpdated",e)}}),{words:v,loading:n,selectedDate:r,sortBy:o,currentPage:i,pageSize:d,deleteDialogVisible:c,currentWordToDelete:u,filteredWords:f,paginatedWords:w,formatDate:e=>{if(!e)return"";const a=new Date(e);return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`},handleDateFilter:y,handleSort:()=>{i.value=1},handleSizeChange:e=>{d.value=e,i.value=1},handleCurrentChange:e=>{i.value=e},resetDate:()=>{r.value=l(),y()},confirmDelete:e=>{u.value=e,c.value=!0},deleteWord:async()=>{if(u.value){g.value=!0;try{await s.deleteWord(u.value.id),B.success({message:"单词删除成功",duration:2e3}),c.value=!1,u.value=null,t("data-updated"),0===w.value.length&&i.value>1&&i.value--}catch(e){B.error("删除失败，请重试")}finally{g.value=!1}}},editWord:e=>{t("edit-word",e)}}}},[["render",function(e,a,t,l,s,n){const r=b("el-button"),o=b("el-date-picker"),i=b("el-col"),d=b("el-option"),c=b("el-select"),u=b("el-row"),p=b("el-card"),g=b("el-empty"),v=b("WordCard"),h=b("el-pagination"),k=b("el-dialog");return S(),m("div",Be,[a[12]||(a[12]=f("div",{class:"background-decoration"},[f("div",{class:"bg-circle bg-circle-1"}),f("div",{class:"bg-circle bg-circle-2"}),f("div",{class:"bg-gradient"})],-1)),f("div",Je,[f("div",Qe,[a[7]||(a[7]=f("div",{class:"card-header"},[f("div",{class:"header-icon"},[f("i",{class:"fas fa-language"})]),f("h1",{class:"gradient-text"},"单词列表")],-1)),w(r,{type:"primary",class:"search-btn",onClick:l.resetDate},{default:y(()=>[...a[6]||(a[6]=[f("i",{class:"fas fa-calendar-alt mr-1"},null,-1),C("今天 ",-1)])]),_:1},8,["onClick"])]),w(p,{class:O(["mb-6 gradient-card",{"card-loaded":!l.loading}])},{default:y(()=>[l.selectedDate?(S(),m("div",Ke,[f("span",null,"当前显示: "+V(l.selectedDate)+" 的单词记录",1),w(r,{type:"text",onClick:l.resetDate,class:"reset-date-btn"},{default:y(()=>[...a[8]||(a[8]=[f("i",{class:"fas fa-redo-alt"},null,-1),C(" 重置为今天 ",-1)])]),_:1},8,["onClick"])])):D("",!0),f("div",He,[w(u,{gutter:20},{default:y(()=>[w(i,{xs:24,sm:12,md:8},{default:y(()=>[f("div",Ze,[f("div",Ge,[w(o,{modelValue:l.selectedDate,"onUpdate:modelValue":a[0]||(a[0]=e=>l.selectedDate=e),type:"date",placeholder:"选择日期过滤（留空显示所有）",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",clearable:"",onChange:l.handleDateFilter,class:"date-picker w-full"},null,8,["modelValue","onChange"])])])]),_:1}),w(i,{xs:24,sm:12,md:8},{default:y(()=>[w(c,{modelValue:l.sortBy,"onUpdate:modelValue":a[1]||(a[1]=e=>l.sortBy=e),placeholder:"排序方式",class:"sort-select w-full",onChange:l.handleSort},{default:y(()=>[w(d,{label:"添加时间 (新到旧)",value:"newest"}),w(d,{label:"添加时间 (旧到新)",value:"oldest"}),w(d,{label:"单词 (A-Z)",value:"word-asc"}),w(d,{label:"单词 (Z-A)",value:"word-desc"})]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})])]),_:1},8,["class"]),f("div",Xe,[l.loading?(S(),m("div",ea,[(S(),m(x,null,T(5,e=>f("div",{key:e,class:"skeleton-item mb-4 animate-pulse"},[...a[9]||(a[9]=[f("div",{class:"w-1/4 h-8 bg-gray-200 rounded mb-2"},null,-1),f("div",{class:"w-full h-4 bg-gray-100 rounded mb-1"},null,-1),f("div",{class:"w-3/4 h-4 bg-gray-100 rounded mb-1"},null,-1),f("div",{class:"w-1/2 h-4 bg-gray-100 rounded"},null,-1)])])),64))])):0===l.filteredWords.length?(S(),W(g,{key:1,description:"暂无单词"})):D("",!0),w(I,{name:"word-item",tag:"div",class:"word-items"},{default:y(()=>[(S(!0),m(x,null,T(l.paginatedWords,(e,a)=>(S(),W(v,{key:e.id||a,word:e,onEdit:a=>l.editWord(e),onDelete:a=>l.confirmDelete(e)},null,8,["word","onEdit","onDelete"]))),128))]),_:1}),!l.loading&&l.filteredWords.length>0?(S(),m("div",aa,[w(h,{"current-page":l.currentPage,"onUpdate:currentPage":a[2]||(a[2]=e=>l.currentPage=e),"page-size":l.pageSize,"onUpdate:pageSize":a[3]||(a[3]=e=>l.pageSize=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:l.filteredWords.length,onSizeChange:l.handleSizeChange,onCurrentChange:l.handleCurrentChange,class:"pagination"},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])):D("",!0)]),w(k,{modelValue:l.deleteDialogVisible,"onUpdate:modelValue":a[5]||(a[5]=e=>l.deleteDialogVisible=e),title:"确认删除",width:"30%",class:"delete-dialog","destroy-on-close":"","append-to-body":"","lock-scroll":!1},{footer:y(()=>[f("span",la,[w(r,{onClick:a[4]||(a[4]=e=>l.deleteDialogVisible=!1),class:"clear-btn"},{default:y(()=>[...a[10]||(a[10]=[C("取消",-1)])]),_:1}),w(r,{type:"danger",onClick:l.deleteWord,class:"search-btn"},{default:y(()=>[...a[11]||(a[11]=[C("确定",-1)])]),_:1},8,["onClick"])])]),default:y(()=>{var e;return[f("p",ta,'确定要删除单词 "'+V(null==(e=l.currentWordToDelete)?void 0:e.word)+'" 吗？',1)]}),_:1},8,["modelValue"])])])}],["__scopeId","data-v-5e699c8d"]]),na={class:"search-words-container"},ra={class:"search-form"},oa={key:0,class:"advanced-filter"},ia={class:"tag-selector"},da={class:"filter-toggle"},ca={class:"search-results"},ua={class:"results-header"},pa={key:0,class:"results-stats"},ga={class:"highlight"},va={key:0,class:"searching-state"},ha={key:1,class:"empty-results"},ma={class:"word-card-header"},fa={class:"word-info"},wa=["onClick"],ya={key:0,class:"phonetic"},ba={class:"word-meta"},Sa={key:0,class:"part-of-speech"},ka={class:"date"},Ca={class:"tags"},Da={class:"word-meaning"},_a={key:0,class:"word-details"},xa={key:0,class:"example-section"},Ta={class:"example-text"},Wa={key:1,class:"synonyms-section"},Va={class:"word-actions"},Oa={key:2,class:"pagination"},Ia={class:"delete-confirm-content"},Ea={class:"dialog-footer"};const za=Le({name:"SearchWords",emits:["words-updated"],setup(e,{emit:t}){const s=l({keyword:"",filter:"all",sort:"default"}),n=l({partOfSpeech:"",dateRange:[],selectedTags:[]}),r=a(!1),o=a(!1),i=a(!1),d=a([]),c=a([]),u=a([]),g=a(null),v=a(1),m=a(10),f=a(!1),w=a(null),y=a(!1),b=p(()=>{const e=(v.value-1)*m.value,a=e+m.value;return c.value.slice(e,a)}),S=p(()=>{const e={};return d.value.forEach(a=>{a.tags&&a.tags.length&&a.tags.forEach(a=>{e[a]=(e[a]||0)+1})}),Object.entries(e).sort(([,e],[,a])=>a-e).slice(0,10).map(([e])=>e)}),k=()=>{const e=localStorage.getItem("dailyEnglishWords");d.value=e?JSON.parse(e):[]},C=async()=>{o.value=!0,await new Promise(e=>setTimeout(e,300));let e=[...d.value];const a=s.keyword.toLowerCase().trim();if(a&&("all"===s.filter?e=e.filter(e=>e.word.toLowerCase().includes(a)||e.meaning.toLowerCase().includes(a)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(a))):"word"===s.filter?e=e.filter(e=>e.word.toLowerCase().includes(a)):"meaning"===s.filter?e=e.filter(e=>e.meaning.toLowerCase().includes(a)):"tag"===s.filter&&(e=e.filter(e=>e.tags&&e.tags.some(e=>e.toLowerCase().includes(a))))),n.partOfSpeech&&(e=e.filter(e=>e.partOfSpeech===n.partOfSpeech)),n.dateRange&&2===n.dateRange.length){const[a,t]=n.dateRange;e=e.filter(e=>e.date>=a&&e.date<=t)}n.selectedTags.length>0&&(e=e.filter(e=>e.tags&&n.selectedTags.some(a=>e.tags.includes(a)))),"date"===s.sort?e.sort((e,a)=>new Date(a.date)-new Date(e.date)):"alphabet"===s.sort&&e.sort((e,a)=>e.word.localeCompare(a.word)),c.value=e,i.value=!0,v.value=1,o.value=!1},D=()=>{s.keyword="",s.filter="all",s.sort="default",n.partOfSpeech="",n.dateRange=[],n.selectedTags=[],c.value=[],i.value=!1,v.value=1,u.value=[]},_=e=>{"Escape"===e.key&&D()},x=()=>{k(),i.value&&C()};return h(()=>{k(),window.addEventListener("keydown",_),window.addEventListener("wordUpdated",x)}),{searchForm:s,advancedFilters:n,showAdvancedFilter:r,searching:o,hasSearch:i,words:d,filteredWords:c,displayWords:b,popularTags:S,expandedWords:u,currentPage:v,pageSize:m,deleteDialogVisible:f,currentWordToDelete:w,deleting:y,handleSearch:C,clearSearch:D,toggleAdvancedFilter:()=>{r.value=!r.value},toggleTag:e=>{const a=n.selectedTags.indexOf(e);a>-1?n.selectedTags.splice(a,1):n.selectedTags.push(e)},toggleWordDetail:e=>{const a=u.value.indexOf(e);a>-1?u.value.splice(a,1):u.value.push(e),g.value=e},isSelectedWord:e=>g.value===e,formatDate:e=>{if(!e)return"";const a=new Date(e);return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`},pronounceWord:e=>{if(e)try{const a=new SpeechSynthesisUtterance(e);a.lang="en-US",speechSynthesis.speak(a)}catch(a){B.error("发音功能暂不可用")}},confirmDelete:e=>{w.value=e,f.value=!0},deleteWord:async()=>{if(w.value){y.value=!0;try{await new Promise(e=>setTimeout(e,500));const e=d.value.findIndex(e=>e.id===w.value.id);if(e>-1){d.value.splice(e,1),localStorage.setItem("dailyEnglishWords",JSON.stringify(d.value));const a=c.value.findIndex(e=>e.id===w.value.id);a>-1&&c.value.splice(a,1);const l=u.value.indexOf(w.value.id);l>-1&&u.value.splice(l,1),B.success("单词删除成功！"),t("words-updated");const s=new CustomEvent("wordUpdated",{detail:null});window.dispatchEvent(s)}}catch(e){B.error("删除失败，请重试")}finally{y.value=!1,f.value=!1,w.value=null}}},handleSizeChange:e=>{m.value=e},handleCurrentChange:e=>{v.value=e}}}},[["render",function(e,a,t,l,s,n){const r=b("el-input"),o=b("el-form-item"),i=b("el-option"),d=b("el-select"),c=b("el-button"),u=b("el-form"),p=b("el-divider"),g=b("el-col"),v=b("el-date-picker"),h=b("el-row"),I=b("el-tag"),z=b("el-card"),F=b("el-popover"),M=b("el-skeleton"),L=b("el-pagination"),A=b("el-dialog");return S(),m("div",na,[a[32]||(a[32]=f("div",{class:"background-decoration"},[f("div",{class:"bg-circle bg-circle-1"}),f("div",{class:"bg-circle bg-circle-2"}),f("div",{class:"bg-gradient"})],-1)),w(z,{class:O(["search-card gradient-card",{"card-loaded":!l.searching}])},{header:y(()=>[...a[9]||(a[9]=[f("div",{class:"card-header"},[f("div",{class:"header-icon"},[f("i",{class:"fas fa-search"})]),f("h2",{class:"gradient-text"},"搜索单词")],-1)])]),default:y(()=>[f("div",ra,[w(u,{inline:!0,model:l.searchForm,class:"search-inline-form"},{default:y(()=>[w(o,null,{default:y(()=>[w(r,{modelValue:l.searchForm.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>l.searchForm.keyword=e),placeholder:"输入单词或中文意思搜索",class:"search-input",clearable:"",onInput:l.handleSearch,onKeyup:_(l.handleSearch,["enter"]),"prefix-icon":"Search"},null,8,["modelValue","onInput","onKeyup"])]),_:1}),w(o,null,{default:y(()=>[w(d,{modelValue:l.searchForm.filter,"onUpdate:modelValue":a[1]||(a[1]=e=>l.searchForm.filter=e),placeholder:"筛选条件",class:"search-filter",clearable:"",onChange:l.handleSearch},{default:y(()=>[w(i,{label:"全部",value:"all"}),w(i,{label:"仅单词",value:"word"}),w(i,{label:"仅释义",value:"meaning"}),w(i,{label:"标签",value:"tag"})]),_:1},8,["modelValue","onChange"])]),_:1}),w(o,null,{default:y(()=>[w(d,{modelValue:l.searchForm.sort,"onUpdate:modelValue":a[2]||(a[2]=e=>l.searchForm.sort=e),placeholder:"排序方式",class:"search-sort",onChange:l.handleSearch},{default:y(()=>[w(i,{label:"默认",value:"default"}),w(i,{label:"按添加日期",value:"date"}),w(i,{label:"按字母顺序",value:"alphabet"})]),_:1},8,["modelValue","onChange"])]),_:1}),w(o,null,{default:y(()=>[w(c,{type:"primary",onClick:l.handleSearch,class:"search-btn",loading:l.searching},{default:y(()=>[...a[10]||(a[10]=[f("i",{class:"fas fa-search"},null,-1),C(" 搜索 ",-1)])]),_:1},8,["onClick","loading"]),w(c,{onClick:l.clearSearch,class:"clear-btn",disabled:!l.hasSearch},{default:y(()=>[...a[11]||(a[11]=[f("i",{class:"fas fa-redo"},null,-1),C(" 清空 ",-1)])]),_:1},8,["onClick","disabled"])]),_:1})]),_:1},8,["model"]),l.showAdvancedFilter?(S(),m("div",oa,[w(p,{"content-position":"left"},{default:y(()=>[...a[12]||(a[12]=[C("高级筛选",-1)])]),_:1}),w(h,{gutter:20},{default:y(()=>[w(g,{xs:24,sm:12},{default:y(()=>[w(o,{label:"词性"},{default:y(()=>[w(d,{modelValue:l.advancedFilters.partOfSpeech,"onUpdate:modelValue":a[3]||(a[3]=e=>l.advancedFilters.partOfSpeech=e),placeholder:"选择词性",class:"form-select",clearable:"",onChange:l.handleSearch},{default:y(()=>[w(i,{label:"名词",value:"n."}),w(i,{label:"动词",value:"v."}),w(i,{label:"形容词",value:"adj."}),w(i,{label:"副词",value:"adv."}),w(i,{label:"介词",value:"prep."}),w(i,{label:"连词",value:"conj."}),w(i,{label:"代词",value:"pron."}),w(i,{label:"数词",value:"num."}),w(i,{label:"感叹词",value:"interj."}),w(i,{label:"其他",value:"other"})]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),w(g,{xs:24,sm:12},{default:y(()=>[w(o,{label:"日期范围"},{default:y(()=>[w(v,{modelValue:l.advancedFilters.dateRange,"onUpdate:modelValue":a[4]||(a[4]=e=>l.advancedFilters.dateRange=e),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD",class:"date-range-picker",onChange:l.handleSearch},null,8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1}),w(o,{label:"常用标签"},{default:y(()=>[f("div",ia,[(S(!0),m(x,null,T(l.popularTags,e=>(S(),W(I,{key:e,type:l.advancedFilters.selectedTags.includes(e)?"primary":"info",effect:l.advancedFilters.selectedTags.includes(e)?"dark":"plain",class:"filter-tag",onClick:a=>l.toggleTag(e)},{default:y(()=>[C(V(e),1)]),_:2},1032,["type","effect","onClick"]))),128))])]),_:1})])):D("",!0),f("div",da,[w(c,{type:"text",onClick:l.toggleAdvancedFilter,class:"toggle-btn"},{default:y(()=>[f("i",{class:O(l.showAdvancedFilter?"fas fa-chevron-up":"fas fa-chevron-down")},null,2),C(" "+V(l.showAdvancedFilter?"收起高级筛选":"展开高级筛选"),1)]),_:1},8,["onClick"])])])]),_:1},8,["class"]),f("div",ca,[f("div",ua,[a[16]||(a[16]=f("h3",null,[f("i",{class:"fas fa-list"}),C(" 搜索结果")],-1)),l.hasSearch?(S(),m("div",pa,[a[14]||(a[14]=C(" 共找到 ",-1)),f("span",ga,V(l.filteredWords.length),1),a[15]||(a[15]=C(" 个单词 ",-1)),w(F,{placement:"top",title:"搜索提示",width:200,trigger:"hover",content:"点击单词可查看详情，按Esc键清空搜索"},{default:y(()=>[w(c,{type:"text",class:"info-btn"},{default:y(()=>[...a[13]||(a[13]=[f("i",{class:"fas fa-info-circle"},null,-1)])]),_:1})]),_:1})])):D("",!0)]),l.searching?(S(),m("div",va,[w(M,{rows:4,animated:""})])):l.hasSearch&&0===l.filteredWords.length?(S(),m("div",ha,[a[18]||(a[18]=f("div",{class:"empty-icon"},[f("i",{class:"fas fa-search-minus"})],-1)),a[19]||(a[19]=f("h4",null,"未找到匹配的单词",-1)),a[20]||(a[20]=f("p",null,"尝试调整搜索条件或检查拼写",-1)),w(c,{type:"primary",onClick:l.clearSearch},{default:y(()=>[...a[17]||(a[17]=[f("i",{class:"fas fa-redo"},null,-1),C(" 重置搜索 ",-1)])]),_:1},8,["onClick"])])):D("",!0),(S(!0),m(x,null,T(l.displayWords,(e,t)=>(S(),W(z,{key:e.id,class:O(["word-card",{"highlight-card":l.isSelectedWord(e.id)}])},{default:y(()=>[f("div",ma,[f("div",fa,[f("h3",{class:"word-title",onClick:a=>l.toggleWordDetail(e.id)},[a[22]||(a[22]=f("i",{class:"fas fa-book"},null,-1)),C(" "+V(e.word)+" ",1),e.phonetic?(S(),m("span",ya,"["+V(e.phonetic)+"]",1)):D("",!0),w(c,{type:"primary",size:"small",circle:"",onClick:k(a=>l.pronounceWord(e.word),["stop"]),class:"pronounce-btn",title:"发音: "+e.word},{default:y(()=>[...a[21]||(a[21]=[f("i",{class:"fas fa-volume-up"},null,-1)])]),_:1},8,["onClick","title"])],8,wa),f("div",ba,[e.partOfSpeech?(S(),m("span",Sa,V(e.partOfSpeech),1)):D("",!0),f("span",ka,V(l.formatDate(e.date)),1),f("div",Ca,[(S(!0),m(x,null,T(e.tags,e=>(S(),W(I,{key:e,effect:"plain",size:"small",class:"word-tag"},{default:y(()=>[C(V(e),1)]),_:2},1024))),128))])])]),w(c,{type:"danger",size:"small",circle:"",onClick:a=>l.confirmDelete(e),class:"delete-btn",title:"删除单词"},{default:y(()=>[...a[23]||(a[23]=[f("i",{class:"fas fa-trash-alt"},null,-1)])]),_:1},8,["onClick"])]),f("div",Da,[f("p",null,V(e.meaning),1)]),w(E,{name:"detail-fade"},{default:y(()=>[l.expandedWords.includes(e.id)?(S(),m("div",_a,[e.example?(S(),m("div",xa,[a[24]||(a[24]=f("h4",null,[f("i",{class:"fas fa-quote-right"}),C(" 例句")],-1)),f("p",Ta,V(e.example),1)])):D("",!0),e.synonyms?(S(),m("div",Wa,[a[25]||(a[25]=f("h4",null,[f("i",{class:"fas fa-exchange-alt"}),C(" 同义词/反义词")],-1)),f("p",null,V(e.synonyms),1)])):D("",!0)])):D("",!0)]),_:2},1024),f("div",Va,[w(c,{type:"text",onClick:a=>l.toggleWordDetail(e.id),class:"detail-toggle"},{default:y(()=>[f("i",{class:O(l.expandedWords.includes(e.id)?"fas fa-chevron-up":"fas fa-chevron-down")},null,2),C(" "+V(l.expandedWords.includes(e.id)?"收起详情":"查看详情"),1)]),_:2},1032,["onClick"])])]),_:2},1032,["class"]))),128)),l.hasSearch&&l.filteredWords.length>0?(S(),m("div",Oa,[w(L,{"current-page":l.currentPage,"onUpdate:currentPage":a[5]||(a[5]=e=>l.currentPage=e),"page-size":l.pageSize,"onUpdate:pageSize":a[6]||(a[6]=e=>l.pageSize=e),"page-sizes":[5,10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:l.filteredWords.length,onSizeChange:l.handleSizeChange,onCurrentChange:l.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])):D("",!0)]),w(A,{modelValue:l.deleteDialogVisible,"onUpdate:modelValue":a[8]||(a[8]=e=>l.deleteDialogVisible=e),title:"确认删除",width:"30%",class:"delete-dialog"},{footer:y(()=>[f("span",Ea,[w(c,{onClick:a[7]||(a[7]=e=>l.deleteDialogVisible=!1)},{default:y(()=>[...a[30]||(a[30]=[C("取消",-1)])]),_:1}),w(c,{type:"danger",onClick:l.deleteWord,loading:l.deleting},{default:y(()=>[...a[31]||(a[31]=[C("确定删除",-1)])]),_:1},8,["onClick","loading"])])]),default:y(()=>{var e;return[f("div",Ia,[a[28]||(a[28]=f("div",{class:"delete-icon"},[f("i",{class:"fas fa-exclamation-triangle"})],-1)),f("p",null,[a[26]||(a[26]=C("确定要删除单词 ",-1)),f("strong",null,V(null==(e=l.currentWordToDelete)?void 0:e.word),1),a[27]||(a[27]=C(" 吗？",-1))]),a[29]||(a[29]=f("p",{class:"delete-warning"},"此操作不可撤销",-1))])]}),_:1},8,["modelValue"])])}],["__scopeId","data-v-10d584cc"]]),Fa={class:"practice-words"},Ma={class:"practice-header"},La={key:0,class:"back-button"},Aa={key:0,class:"mode-selection"},Ua={class:"mode-cards"},Pa={key:1,class:"practice-settings"},ja={class:"settings-group"},Ra={class:"settings-group"},qa={class:"settings-group"},Na={class:"radio-group"},$a={class:"settings-actions"},Ya=["disabled"],Ba={key:2,class:"loading-container"},Ja={key:3,class:"flashcard-mode"},Qa={class:"progress-container"},Ka={class:"progress-bar"},Ha={class:"flashcard-container"},Za={class:"card-front"},Ga={key:0},Xa={class:"card-back"},et={class:"definition"},at={key:0,class:"phonetic"},tt={key:1,class:"example"},lt={class:"flashcard-actions"},st={class:"navigation-buttons"},nt=["disabled"],rt=["disabled"],ot={key:4,class:"quiz-mode"},it={class:"progress-container"},dt={class:"progress-bar"},ct={class:"quiz-question"},ut={class:"quiz-options"},pt=["onClick"],gt={key:0,class:"quiz-result"},vt={key:0,class:"correct-result"},ht={key:1,class:"wrong-result"},mt={class:"quiz-actions"},ft=["disabled"],wt={key:5,class:"listening-mode"},yt={class:"progress-container"},bt={class:"progress-bar"},St={class:"listening-content"},kt={class:"options"},Ct=["onClick"],Dt={class:"listening-actions"},_t=["disabled"],xt={key:6,class:"practice-result"},Tt={class:"result-card"},Wt={class:"result-stats"},Vt={class:"stat-item"},Ot={class:"stat-number"},It={class:"stat-item"},Et={class:"stat-number"},zt={class:"stat-item"},Ft={class:"stat-number"},Mt={class:"result-actions"};const Lt=Le({name:"PracticeWords",setup(){const e=a("mode-selection"),t=a(""),l=a(0),s=a([]),n=a(!1);h(()=>{e.value="mode-selection",t.value="",l.value=0,s.value=[],n.value=!1});const r=a(!1),o=a([]),i=a([]),d=a(-1),c=a(!1),u=a(-1),g=a({wordCount:10,difficulty:"全部",wordRange:"all"}),v=a({correct:0,total:0,score:0}),m=p(()=>s.value[l.value]||{word:"",meaning:"",phonetic:"",example:""}),f=p(()=>0===s.value.length?0:(l.value+1)/s.value.length*100),w=e=>{const a=e.reviewCount||0;return e.mastered||a>=3?"简单":a>=1?"中等":"困难"},y=(e,a)=>"简单"===a?"简单"===e:"中等"!==a||["简单","中等"].includes(e),b=()=>{try{const a=localStorage.getItem("dailyEnglishWords");let l=[];try{l=a?JSON.parse(a):[],Array.isArray(l)||(l=[])}catch(e){l=[]}const s=m.value;if(!s||!s.word)return;if("quiz"===t.value){const e=[];s.meaning&&e.push(String(s.meaning));const a=[...l.filter(e=>e&&e.id!==s.id&&e.meaning&&String(e.meaning)!==String(s.meaning))].sort(()=>.5-Math.random());for(let t=0;t<Math.min(3,a.length);t++)e.push(String(a[t].meaning));for(;e.length<4;)e.push(`模拟选项 ${e.length+1}`);o.value=e.sort(()=>.5-Math.random())}else if("listening"===t.value){const e=[];s.word&&e.push(String(s.word));const a=[...l.filter(e=>e&&e.id!==s.id&&e.word&&String(e.word)!==String(s.word))].sort(()=>.5-Math.random());for(let l=0;l<Math.min(3,a.length);l++)e.push(String(a[l].word));for(;e.length<4;)e.push(`word${e.length+1}`);i.value=e.sort(()=>.5-Math.random());const t=String(s.word);u.value=i.value.findIndex(e=>String(e)===t)}}catch(a){if("quiz"===t.value){const e=m.value,a=(null==e?void 0:e.meaning)?[e.meaning,"选项2","选项3","选项4"]:["选项1","选项2","选项3","选项4"];o.value=a.sort(()=>.5-Math.random())}else if("listening"===t.value){const e=m.value,a=(null==e?void 0:e.word)?[e.word,"单词2","单词3","单词4"]:["单词1","单词2","单词3","单词4"];i.value=a.sort(()=>.5-Math.random()),u.value=i.value.findIndex(a=>a===(null==e?void 0:e.word))}}},S=()=>{v.value.score=s.value.length>0?Math.round(v.value.correct/v.value.total*100):0},k=()=>{e.value="mode-selection",t.value="",l.value=0,s.value=[],r.value=!1,d.value=-1,c.value=!1},C=p(()=>{if(!c.value||-1===d.value)return!1;if("quiz"===t.value){const e=m.value,a=o.value,t=d.value;if(e&&"object"==typeof e&&e.meaning&&a&&Array.isArray(a)&&t>=0&&t<a.length){const l=e=>e.replace(/\s+/g,"").toLowerCase(),s=String(a[t]).trim(),n=String(e.meaning).trim();if(s===n)return!0;return l(s)===l(n)}}else if("listening"===t.value)return void 0!==d.value&&void 0!==u.value&&d.value===u.value;return!1});return{currentStep:e,currentMode:t,currentIndex:l,practiceWords:s,loading:n,isFlipped:r,quizOptions:o,listeningOptions:i,selectedOption:d,showResult:c,correctOptionIndex:u,settings:g,results:v,currentWord:m,progressPercentage:f,isCorrect:C,selectMode:a=>{t.value=a,e.value="settings"},startPractice:async()=>{n.value=!0;try{const a=localStorage.getItem("dailyEnglishWords");let o=a?JSON.parse(a):[];if("today"===g.value.wordRange){const e=(new Date).toISOString().split("T")[0];o=o.filter(a=>a.date===e)}if(g.value.difficulty&&"全部"!==g.value.difficulty&&(o=o.filter(e=>{const a=e.difficulty||w(e);return y(a,g.value.difficulty)})),0===o.length)return B.warning("没有找到匹配条件的单词数据，请先添加单词"),void(n.value=!1);const i=[...o].sort(()=>.5-Math.random());s.value=i.slice(0,Math.min(g.value.wordCount,o.length)),v.value={correct:0,total:s.value.length,score:0},l.value=0,r.value=!1,d.value=-1,c.value=!1,"quiz"!==t.value&&"listening"!==t.value||b(),e.value=t.value}catch(a){B.error("准备练习内容失败")}finally{n.value=!1}},playSound:e=>{try{const a=new SpeechSynthesisUtterance(e);a.lang="en-US",window.speechSynthesis.speak(a)}catch(a){B.warning("无法播放发音，请检查浏览器权限")}},flipCard:()=>{r.value=!r.value},prevWord:()=>{l.value>0&&(l.value--,r.value=!1)},nextWord:()=>{l.value<s.value.length-1?(l.value++,r.value=!1):(S(),e.value="result")},selectOption:e=>{c.value||(d.value=e)},submitQuiz:()=>{if(-1!==d.value)if(c.value=!0,"quiz"===t.value){const e=m.value,a=o.value,t=d.value;if(e&&"object"==typeof e&&e.meaning&&a&&Array.isArray(a)&&t>=0&&t<a.length){const l=String(a[t]).trim(),s=String(e.meaning).trim();if(l===s)v.value.correct++;else{const e=e=>e.replace(/\s+/g,"").toLowerCase();e(l)===e(s)&&v.value.correct++}}}else"listening"===t.value&&void 0!==d.value&&void 0!==u.value&&d.value===u.value&&v.value.correct++},nextQuiz:()=>{l.value<s.value.length-1?(l.value++,d.value=-1,c.value=!1,b()):(S(),e.value="result")},restartPractice:()=>{e.value="settings"},backToModeSelection:k,goBack:()=>{"settings"===e.value?k():"flashcard"!==e.value&&"quiz"!==e.value&&"listening"!==e.value||(e.value="settings")},refreshPage:()=>{e.value="mode-selection",t.value="",l.value=0,s.value=[],n.value=!1,r.value=!1,d.value=-1,c.value=!1,u.value=-1,g.value={wordCount:10,difficulty:"全部",wordRange:"today"},v.value={correct:0,total:0,score:0}}}}},[["render",function(e,a,t,l,s,n){return S(),m("div",Fa,[f("div",Ma,["mode-selection"!==l.currentStep?(S(),m("div",La,[f("button",{onClick:a[0]||(a[0]=(...e)=>l.goBack&&l.goBack(...e)),class:"back-btn"},"返回")])):D("",!0),a[22]||(a[22]=f("h2",null,"单词练习",-1))]),"mode-selection"===l.currentStep?(S(),m("div",Aa,[a[26]||(a[26]=f("h2",null,"选择练习模式",-1)),f("div",Ua,[f("div",{class:"mode-card",onClick:a[1]||(a[1]=e=>l.selectMode("flashcard"))},[...a[23]||(a[23]=[f("i",{class:"fas fa-card"},null,-1),f("h3",null,"闪卡模式",-1),f("p",null,"通过翻转卡片学习单词和释义",-1)])]),f("div",{class:"mode-card",onClick:a[2]||(a[2]=e=>l.selectMode("quiz"))},[...a[24]||(a[24]=[f("i",{class:"fas fa-question-circle"},null,-1),f("h3",null,"测验模式",-1),f("p",null,"测试你的单词记忆",-1)])]),f("div",{class:"mode-card",onClick:a[3]||(a[3]=e=>l.selectMode("listening"))},[...a[25]||(a[25]=[f("i",{class:"fas fa-headphones"},null,-1),f("h3",null,"听力模式",-1),f("p",null,"练习听力理解",-1)])])])])):"settings"===l.currentStep?(S(),m("div",Pa,[a[33]||(a[33]=f("h2",null,"练习设置",-1)),f("div",ja,[a[27]||(a[27]=f("label",null,"练习单词数量",-1)),z(f("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>l.settings.wordCount=e),min:"1",max:"50",placeholder:"输入单词数量"},null,512),[[F,l.settings.wordCount]])]),f("div",Ra,[a[29]||(a[29]=f("label",null,"难度级别",-1)),z(f("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>l.settings.difficulty=e)},[...a[28]||(a[28]=[f("option",{value:"全部"},"全部",-1),f("option",{value:"简单"},"简单",-1),f("option",{value:"中等"},"中等",-1),f("option",{value:"困难"},"困难",-1)])],512),[[M,l.settings.difficulty]])]),f("div",qa,[a[32]||(a[32]=f("label",null,"单词范围",-1)),f("div",Na,[f("label",null,[z(f("input",{type:"radio","onUpdate:modelValue":a[6]||(a[6]=e=>l.settings.wordRange=e),value:"today"},null,512),[[L,l.settings.wordRange]]),a[30]||(a[30]=C(" 今天的单词 ",-1))]),f("label",null,[z(f("input",{type:"radio","onUpdate:modelValue":a[7]||(a[7]=e=>l.settings.wordRange=e),value:"all"},null,512),[[L,l.settings.wordRange]]),a[31]||(a[31]=C(" 所有单词 ",-1))])])]),f("div",$a,[f("button",{class:"back-btn",onClick:a[8]||(a[8]=()=>{l.backToModeSelection(),l.refreshPage()})},"返回"),f("button",{class:"start-btn",onClick:a[9]||(a[9]=(...e)=>l.startPractice&&l.startPractice(...e)),disabled:l.loading},V(l.loading?"准备中...":"开始练习"),9,Ya)])])):D("",!0),l.loading?(S(),m("div",Ba,[...a[34]||(a[34]=[f("div",{class:"loading-spinner"},null,-1),f("p",null,"正在准备练习内容...",-1)])])):D("",!0),"flashcard"===l.currentStep&&l.practiceWords.length>0?(S(),m("div",Ja,[f("div",Qa,[f("div",Ka,[f("div",{class:"progress-fill",style:A({width:l.progressPercentage+"%"})},null,4)]),f("span",null,V(l.currentIndex+1)+" / "+V(l.practiceWords.length),1)]),f("div",Ha,[f("div",{class:O(["flashcard",{flipped:l.isFlipped}]),onClick:a[10]||(a[10]=(...e)=>l.flipCard&&l.flipCard(...e))},[f("div",Za,[f("h3",null,V(l.currentWord.word),1),l.currentWord.phonetic?(S(),m("p",Ga,V(l.currentWord.phonetic),1)):D("",!0)]),f("div",Xa,[a[35]||(a[35]=f("h4",null,"释义",-1)),f("p",et,V(l.currentWord.meaning),1),l.currentWord.phonetic?(S(),m("div",at,[f("span",null,V(l.currentWord.phonetic),1)])):D("",!0),l.currentWord.example?(S(),m("p",tt,V(l.currentWord.example),1)):D("",!0)])],2)]),f("div",lt,[f("button",{class:"audio-btn",onClick:a[11]||(a[11]=e=>l.playSound(l.currentWord.word))},[...a[36]||(a[36]=[f("i",{class:"fas fa-volume-up"},null,-1),C(" 发音 ",-1)])]),f("button",{class:"flip-hint-btn",onClick:a[12]||(a[12]=(...e)=>l.flipCard&&l.flipCard(...e))},V(l.isFlipped?"查看单词":"查看释义"),1)]),f("div",st,[f("button",{class:"nav-btn",onClick:a[13]||(a[13]=(...e)=>l.prevWord&&l.prevWord(...e)),disabled:0===l.currentIndex}," 上一个 ",8,nt),f("button",{class:"nav-btn",onClick:a[14]||(a[14]=(...e)=>l.nextWord&&l.nextWord(...e)),disabled:l.currentIndex===l.practiceWords.length-1},V(l.currentIndex===l.practiceWords.length-1?"完成练习":"下一个"),9,rt)])])):"quiz"===l.currentStep&&l.practiceWords.length>0?(S(),m("div",ot,[f("div",it,[f("div",dt,[f("div",{class:"progress-fill",style:A({width:l.progressPercentage+"%"})},null,4)]),f("span",null,V(l.currentIndex+1)+" / "+V(l.practiceWords.length),1)]),f("div",ct,[f("h3",null,'请选择单词 "'+V(l.currentWord.word)+'" 的正确释义',1)]),f("div",ut,[(S(!0),m(x,null,T(l.quizOptions,(e,a)=>(S(),m("div",{key:a,class:O(["quiz-option",{selected:l.selectedOption===a,correct:l.showResult&&l.selectedOption===a&&l.isCorrect,incorrect:l.showResult&&l.selectedOption===a&&!l.isCorrect,"correct-answer":l.showResult&&String(e).replace(/\s+/g,"").toLowerCase()===String(l.currentWord.meaning).replace(/\s+/g,"").toLowerCase()}]),onClick:e=>l.selectOption(a)},[f("span",null,V(e),1)],10,pt))),128))]),l.showResult?(S(),m("div",gt,[l.isCorrect?(S(),m("div",vt,[...a[37]||(a[37]=[f("p",null,"✓ 正确！",-1)])])):(S(),m("div",ht,[a[38]||(a[38]=f("p",null,"✗ 错误",-1)),f("p",null,"正确答案: "+V(l.currentWord.meaning),1)]))])):D("",!0),f("div",mt,[l.showResult?(S(),m("button",{key:1,class:"next-btn",onClick:a[16]||(a[16]=(...e)=>l.nextQuiz&&l.nextQuiz(...e))},V(l.currentIndex===l.practiceWords.length-1?"查看结果":"下一题"),1)):(S(),m("button",{key:0,class:"submit-btn",onClick:a[15]||(a[15]=(...e)=>l.submitQuiz&&l.submitQuiz(...e)),disabled:-1===l.selectedOption}," 提交 ",8,ft))])])):"listening"===l.currentStep&&l.practiceWords.length>0?(S(),m("div",wt,[f("div",yt,[f("div",bt,[f("div",{class:"progress-fill",style:A({width:l.progressPercentage+"%"})},null,4)]),f("span",null,V(l.currentIndex+1)+" / "+V(l.practiceWords.length),1)]),f("div",St,[f("button",{class:"play-audio-btn",onClick:a[17]||(a[17]=e=>l.playSound(l.currentWord.word))},[...a[39]||(a[39]=[f("i",{class:"fas fa-volume-up"},null,-1),C(" 播放发音 ",-1)])]),a[40]||(a[40]=f("p",{class:"listen-hint"},"请选择听到的单词",-1)),f("div",kt,[(S(!0),m(x,null,T(l.listeningOptions,(e,a)=>(S(),m("button",{key:a,class:O(["option-btn",{selected:l.selectedOption===a,correct:l.showResult&&a===l.correctOptionIndex,incorrect:l.showResult&&l.selectedOption===a&&l.selectedOption!==l.correctOptionIndex}]),onClick:e=>l.selectOption(a)},V(e),11,Ct))),128))]),f("div",Dt,[l.showResult?(S(),m("button",{key:1,class:"next-quiz-btn",onClick:a[19]||(a[19]=(...e)=>l.nextQuiz&&l.nextQuiz(...e))},V(l.currentIndex===l.practiceWords.length-1?"查看结果":"下一题"),1)):(S(),m("button",{key:0,class:"submit-btn",onClick:a[18]||(a[18]=(...e)=>l.submitQuiz&&l.submitQuiz(...e)),disabled:-1===l.selectedOption}," 提交 ",8,_t))])])])):"result"===l.currentStep?(S(),m("div",xt,[f("div",Tt,[a[46]||(a[46]=f("div",{class:"result-header"},[f("h3",null,"练习完成！")],-1)),f("div",Wt,[f("div",Vt,[f("span",Ot,V(l.results.correct),1),a[41]||(a[41]=f("span",{class:"stat-label"},"正确",-1))]),f("div",It,[f("span",Et,V(l.results.total),1),a[42]||(a[42]=f("span",{class:"stat-label"},"总题数",-1))]),f("div",zt,[f("span",Ft,V(l.results.score)+"%",1),a[43]||(a[43]=f("span",{class:"stat-label"},"正确率",-1))])]),f("div",Mt,[f("button",{class:"result-btn",onClick:a[20]||(a[20]=()=>{l.restartPractice(),l.refreshPage()})},[...a[44]||(a[44]=[f("i",{class:"fas fa-redo"},null,-1),C(" 重新练习 ",-1)])]),f("button",{class:"result-btn",onClick:a[21]||(a[21]=()=>{l.backToModeSelection(),l.refreshPage()})},[...a[45]||(a[45]=[f("i",{class:"fas fa-home"},null,-1),C(" 返回首页 ",-1)])])])])])):D("",!0)])}],["__scopeId","data-v-c391874d"]]),At={class:"diary-container"},Ut={class:"diary-header"},Pt={class:"diary-tabs"},jt={class:"diary-date-selector"},Rt={key:0,class:"diary-content"},qt={class:"diary-stats"},Nt={key:1,class:"diary-list"},$t={key:0,class:"empty-message"},Yt={key:1,class:"diary-items"},Bt=["onClick"],Jt={class:"diary-item-title"},Qt={class:"diary-item-date"},Kt={class:"diary-item-preview"},Ht={class:"diary-detail"},Zt={class:"diary-detail-date"},Gt={class:"diary-detail-content"},Xt={key:2,class:"diary-footer"};const el=Le({name:"Diary",props:{words:{type:Array,default:()=>[]}},setup(e){const t=a(c()),l=a({title:"",content:""}),s=a("edit"),n=a([]),r=a(""),o=a(!1),i=a(null);function c(){return(new Date).toISOString().split("T")[0]}const u=p(()=>e.words&&Array.isArray(e.words)?e.words.filter(e=>e.date===t.value).length:0),g=p(()=>{const a=e.words.filter(e=>e.date===t.value);if(0===a.length)return 0;const l=a.filter(e=>e.mastered).length;return Math.round(l/a.length*100)}),v=p(()=>{if(!n.value||0===n.value.length)return[];const e=r.value.toLowerCase().trim();return e?n.value.filter(a=>{var t;return(null==(t=a.title)?void 0:t.toLowerCase().includes(e))||a.content.toLowerCase().includes(e)||a.date.includes(e)}):n.value});function h(e){try{const a=JSON.parse(localStorage.getItem("dailyEnglishDiaries")||"{}");l.value=a[e]||{title:"",content:""}}catch(a){l.value={title:"",content:""}}}function m(){try{const e=JSON.parse(localStorage.getItem("dailyEnglishDiaries")||"{}"),a=[];Object.keys(e).forEach(t=>{e[t]&&e[t].content&&a.push({date:t,title:e[t].title||"",content:e[t].content})}),n.value=a.sort((e,a)=>new Date(a.date)-new Date(e.date))}catch(e){n.value=[]}}function f(){try{const e=JSON.parse(localStorage.getItem("dailyEnglishDiaries")||"{}");e[t.value]=l.value,localStorage.setItem("dailyEnglishDiaries",JSON.stringify(e)),m(),l.value={title:"",content:""},B.success("日记保存成功")}catch(e){B.error("保存日记失败，请重试")}}d(t,e=>{h(e)}),h(t.value);const w=()=>{};return window.addEventListener("wordUpdated",w),U(()=>{window.removeEventListener("wordUpdated",w)}),{selectedDate:t,currentDiary:l,todayWordsCount:u,todayEfficiency:g,activeTab:s,diariesList:n,filteredDiaries:v,searchQuery:r,showDiaryDetail:o,selectedDiaryDetail:i,saveDiary:f,clearDiary:function(){l.value={title:"",content:""},f()},resetDate:function(){t.value=c()},onDateChange:function(e){h(e)},onTabChange:function(e){"list"===e.paneName&&m()},viewDiary:function(e){i.value=e,o.value=!0},getDefaultTitle:function(e){if(!e.content)return"无标题日记";const a=e.content.split("\n")[0];return a.length>20?a.substring(0,20)+"...":a||"无标题日记"},getPreview:function(e){return e?e.length>80?e.substring(0,80)+"...":e:""},formatDate:function(e){return e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"}):""}}}},[["render",function(e,a,t,l,s,n){var r;const o=b("el-date-picker"),i=b("el-button"),d=b("el-tab-pane"),c=b("el-input"),u=b("el-tabs"),p=b("el-dialog");return S(),m("div",At,[f("div",Ut,[a[6]||(a[6]=f("h2",null,"学习日记",-1)),f("div",Pt,[w(u,{modelValue:l.activeTab,"onUpdate:modelValue":a[2]||(a[2]=e=>l.activeTab=e),onTabClick:l.onTabChange},{default:y(()=>[w(d,{label:"写日记",name:"edit"},{default:y(()=>[f("div",jt,[w(o,{modelValue:l.selectedDate,"onUpdate:modelValue":a[0]||(a[0]=e=>l.selectedDate=e),type:"date",placeholder:"选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:l.onDateChange},null,8,["modelValue","onChange"]),w(i,{type:"primary",onClick:l.resetDate},{default:y(()=>[...a[5]||(a[5]=[C("今天",-1)])]),_:1},8,["onClick"])])]),_:1}),w(d,{label:"日记列表",name:"list"},{default:y(()=>[w(c,{modelValue:l.searchQuery,"onUpdate:modelValue":a[1]||(a[1]=e=>l.searchQuery=e),placeholder:"搜索日记","prefix-icon":"el-icon-search",class:"search-input"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","onTabClick"])])]),"edit"===l.activeTab?(S(),m("div",Rt,[w(c,{modelValue:l.currentDiary.title,"onUpdate:modelValue":a[3]||(a[3]=e=>l.currentDiary.title=e),placeholder:"日记标题",class:"diary-title-input"},null,8,["modelValue"]),w(c,{modelValue:l.currentDiary.content,"onUpdate:modelValue":a[4]||(a[4]=e=>l.currentDiary.content=e),type:"textarea",rows:12,placeholder:"记录今天的学习心得和笔记..."},null,8,["modelValue"]),f("div",qt,[f("p",null,"今日单词数量: "+V(l.todayWordsCount),1),f("p",null,"学习效率: "+V(l.todayEfficiency)+"%",1)])])):"list"===l.activeTab?(S(),m("div",Nt,[0===l.filteredDiaries.length?(S(),m("div",$t,[...a[7]||(a[7]=[f("p",null,"暂无日记记录",-1)])])):(S(),m("div",Yt,[(S(!0),m(x,null,T(l.filteredDiaries,e=>(S(),m("div",{key:e.date,class:"diary-item",onClick:a=>l.viewDiary(e)},[f("div",Jt,V(e.title||l.getDefaultTitle(e)),1),f("div",Qt,V(l.formatDate(e.date)),1),f("div",Kt,V(l.getPreview(e.content)),1)],8,Bt))),128))]))])):D("",!0),w(p,{visible:l.showDiaryDetail,title:(null==(r=l.selectedDiaryDetail)?void 0:r.title)||"日记详情",width:"60%"},{default:y(()=>{var e,a;return[f("div",Ht,[f("div",Zt,V(l.formatDate(null==(e=l.selectedDiaryDetail)?void 0:e.date)),1),f("div",Gt,V(null==(a=l.selectedDiaryDetail)?void 0:a.content),1)])]}),_:1},8,["visible","title"]),"edit"===l.activeTab?(S(),m("div",Xt,[w(i,{onClick:l.clearDiary,type:"danger",plain:""},{default:y(()=>[...a[8]||(a[8]=[C("清空日记",-1)])]),_:1},8,["onClick"]),w(i,{type:"success",onClick:l.saveDiary},{default:y(()=>[...a[9]||(a[9]=[C("保存日记",-1)])]),_:1},8,["onClick"])])):D("",!0)])}],["__scopeId","data-v-d781656a"]]),al={class:"stats-header"},tl={class:"stats-content"},ll={class:"stats-label"},sl={name:"StatsView",components:{TrendCharts:se,Document:le,Calendar:te,Sunny:ae,Star:ee,Histogram:X,Tickets:G,Trophy:Z,ElDialog:H,ElInputNumber:K,ElButton:Q,ElProgress:J,StatsPanel:Le({__name:"StatsPanel",props:{title:{type:String,default:"统计数据"},stats:{type:Array,required:!0},showRefresh:{type:Boolean,default:!1}},emits:["refresh"],setup:e=>(a,t)=>{const l=b("el-button"),s=b("el-card");return S(),W(s,{class:"stats-panel",shadow:"hover"},{header:y(()=>[f("div",al,[f("h3",null,V(e.title),1),e.showRefresh?(S(),W(l,{key:0,type:"primary",size:"small",onClick:t[0]||(t[0]=e=>a.$emit("refresh"))},{default:y(()=>[...t[1]||(t[1]=[C(" 刷新 ",-1)])]),_:1})):D("",!0)])]),default:y(()=>[f("div",tl,[(S(!0),m(x,null,T(e.stats,(e,a)=>(S(),m("div",{key:a,class:"stats-item"},[f("div",ll,V(e.label),1),f("div",{class:O(["stats-value",e.highlight?"highlight":""])},V(e.value),3)]))),128))])]),_:1})}},[["__scopeId","data-v-0248494c"]])},emits:["update:dailyTarget","refresh"],props:{words:{type:Array,default:()=>[]},dailyTarget:{type:Number,default:20}},setup(e,{emit:t}){const l=a(!1),s=a(!1),n=a(e.dailyTarget),r=()=>(new Date).toISOString().split("T")[0],o=p(()=>{const a=localStorage.getItem("dailyEnglishWords"),t=a?JSON.parse(a):[],l=r(),s=t.filter(e=>e.date===l),n=new Set;t.forEach(e=>{e.date&&n.add(e.date)});const o=n.size,i=t.filter(e=>e.mastered).length;return{totalWords:t.length,todayWords:s.length,studyDays:o,dailyTarget:e.dailyTarget,mastered:i}}),i=p(()=>{const e=(()=>{const e=[],a=new Date,t=["日","一","二","三","四","五","六"];for(let l=13;l>=0;l--){const s=new Date(a);s.setDate(s.getDate()-l);const n=s.toISOString().split("T")[0],r=t[s.getDay()];e.push({date:n,count:0,height:0,label:r,shortDate:`${s.getMonth()+1}/${s.getDate()}`})}return e})(),a=localStorage.getItem("dailyEnglishWords"),t=a?JSON.parse(a):[],l={};t.forEach(e=>{e.date&&(l[e.date]=(l[e.date]||0)+1)});const s=Math.max(...Object.values(l),1);return e.forEach(e=>{e.count=l[e.date]||0,e.height=e.count>0?e.count/s*100:0}),e}),d=p(()=>{const e={},a=localStorage.getItem("dailyEnglishWords");(a?JSON.parse(a):[]).forEach(a=>{a.tags&&a.tags.length>0&&a.tags.forEach(a=>{e[a]=(e[a]||0)+1})});const t=Object.values(e).reduce((e,a)=>e+a,0);return 0===t?[]:Object.keys(e).map(a=>({name:a,count:e[a],percentage:Math.round(e[a]/t*100),color:u()}))}),c=p(()=>{const e=r(),a=localStorage.getItem("dailyEnglishWords"),t=(a?JSON.parse(a):[]).filter(a=>a.date===e);if(0===t.length)return 0;const l=t.filter(e=>e.mastered).length/t.length,s=t.reduce((e,a)=>e+(a.reviewCount||0),0)/t.length;return Math.round(60*l+40*(2-Math.min(s/5,1)))});function u(){const e=["#409EFF","#67C23A","#E6A23C","#F56C6C","#909399"];return e[Math.floor(Math.random()*e.length)]}return h(()=>{setTimeout(()=>{l.value=!0},300);const e=()=>{const e=document.querySelector(".stats-section");if(e){const a=e.getBoundingClientRect();a.top<.8*window.innerHeight&&a.bottom>0&&(l.value=!0)}},a=()=>{l.value=!1,setTimeout(()=>{l.value=!0},100)};return window.addEventListener("scroll",e),window.addEventListener("wordUpdated",a),()=>{window.removeEventListener("scroll",e),window.removeEventListener("wordUpdated",a)}}),{stats:o,trendData:i,tagStats:d,efficiencyScore:c,isAnimated:l,showTargetDialog:s,tempTarget:n,openTargetDialog:()=>{n.value=e.dailyTarget,s.value=!0},saveDailyTarget:()=>{n.value>0&&(localStorage.setItem("dailyEnglishTarget",n.value.toString()),t("update:dailyTarget",n.value),s.value=!1)}}}},nl=()=>{P(e=>({v74a2c50e:e.efficiencyScore}))},rl=sl.setup;sl.setup=rl?(e,a)=>(nl(),rl(e,a)):nl;const ol={class:"stats-view-container"},il={class:"card-header"},dl={class:"header-icon"},cl={class:"stats-content"},ul={class:"stat-content"},pl={class:"stat-icon"},gl={class:"stat-number"},vl={class:"stat-bg-icon"},hl={class:"stat-content"},ml={class:"stat-icon"},fl={class:"stat-number"},wl={class:"stat-bg-icon"},yl={class:"section-title"},bl={class:"section-icon"},Sl={class:"trend-chart gradient-card"},kl={class:"trend-bars"},Cl={class:"trend-count"},Dl={class:"trend-label"},_l={class:"trend-date"},xl={class:"section-title"},Tl={class:"section-icon"},Wl={class:"tag-stats gradient-card"},Vl={key:0},Ol={class:"tag-name"},Il={class:"tag-count"},El={key:1,class:"empty-stats"},zl={class:"section-title"},Fl={class:"section-icon"},Ml={class:"efficiency-stats gradient-card"},Ll={class:"efficiency-item"},Al={class:"efficiency-score"},Ul={class:"target-setting"},Pl={class:"dialog-footer"};const jl={key:0,class:"loading-overlay"},Rl={class:"loading-text"},ql={__name:"LoadingOverlay",props:{visible:{type:Boolean,default:!1},text:{type:String,default:""}},setup:e=>(a,t)=>{const l=b("el-icon");return S(),W(E,{name:"fade"},{default:y(()=>[e.visible?(S(),m("div",jl,[w(l,{class:"loading-icon",size:40},{default:y(()=>[w(j(ne))]),_:1}),f("p",Rl,V(e.text||"加载中..."),1)])):D("",!0)]),_:1})}},Nl={id:"app"},$l={class:"app-header-card"},Yl={class:"header-content"},Bl={key:0,class:"header-stats"},Jl={class:"el-dropdown-link"},Ql={key:0,class:"mobile-nav"},Kl={class:"nav-icon-wrapper"},Hl={class:"nav-icon-wrapper"},Zl={class:"nav-icon-wrapper"},Gl={class:"nav-icon-wrapper"},Xl={class:"nav-icon-wrapper"},es={class:"nav-icon-wrapper"},as={class:"nav-icon-wrapper"},ts={class:"mobile-data-menu"};const ls=Le({name:"App",components:{AddWord:Ye,ViewWords:sa,SearchWords:za,PracticeWords:Lt,Diary:el,StatsView:Le(sl,[["render",function(e,a,t,l,s,n){const r=b("TrendCharts"),o=b("StatsPanel"),i=b("Sunny"),d=b("el-card"),c=b("el-col"),u=b("Star"),p=b("Histogram"),g=b("Tickets"),v=b("el-progress"),h=b("Trophy"),k=b("el-input-number"),D=b("el-button"),_=b("el-dialog");return S(),m("div",ol,[a[15]||(a[15]=f("div",{class:"background-decoration"},[f("div",{class:"bg-circle bg-circle-1"}),f("div",{class:"bg-circle bg-circle-2"}),f("div",{class:"bg-gradient"})],-1)),w(d,{class:"stats-card",shadow:"hover"},{header:y(()=>[f("div",il,[f("div",dl,[w(r)]),a[4]||(a[4]=f("h2",{class:"gradient-text"},"学习统计",-1))])]),default:y(()=>[f("div",cl,[w(o,{title:"学习统计概览",stats:[{label:"总单词数",value:l.stats.totalWords,highlight:!0},{label:"学习天数",value:l.stats.studyDays,highlight:!1},{label:"今日单词",value:l.stats.todayWords,highlight:!0},{label:"掌握单词",value:l.stats.masteredWords,highlight:!1}],onRefresh:a[0]||(a[0]=a=>e.$emit("refresh")),showRefresh:!0},null,8,["stats"]),w(c,{xs:12,sm:12,md:6},{default:y(()=>[w(d,{class:O(["stat-card daily-target gradient-card",{"stat-animate":l.isAnimated}]),shadow:"hover",onClick:l.openTargetDialog},{default:y(()=>[f("div",ul,[f("div",pl,[w(i)]),f("div",gl,V(l.stats.dailyTarget),1),a[5]||(a[5]=f("div",{class:"stat-label"},"每日目标 (点击设置)",-1)),f("div",vl,[w(i)])])]),_:1},8,["class","onClick"])]),_:1}),w(c,{xs:12,sm:12,md:6},{default:y(()=>[w(d,{class:O(["stat-card mastered gradient-card",{"stat-animate":l.isAnimated}]),shadow:"hover"},{default:y(()=>[f("div",hl,[f("div",ml,[w(u)]),f("div",fl,V(l.stats.mastered),1),a[6]||(a[6]=f("div",{class:"stat-label"},"已掌握",-1)),f("div",wl,[w(u)])])]),_:1},8,["class"])]),_:1}),f("div",{class:O(["stats-section",{"section-animate":l.isAnimated}])},[f("h3",yl,[f("span",bl,[w(p)]),a[7]||(a[7]=f("span",{class:"section-text"},"学习趋势",-1))]),f("div",Sl,[f("div",kl,[(S(!0),m(x,null,T(l.trendData,e=>(S(),m("div",{key:e.date,class:"trend-bar-container"},[f("div",{class:"trend-bar",style:A({height:e.height+"%"})},[f("span",Cl,V(e.count),1)],4),f("div",Dl,V(e.label),1),f("div",_l,V(e.shortDate),1)]))),128))])])],2),f("div",{class:O(["stats-section",{"section-animate":l.isAnimated}])},[f("h3",xl,[f("span",Tl,[w(g)]),a[8]||(a[8]=f("span",{class:"section-text"},"标签分布",-1))]),f("div",Wl,[l.tagStats.length>0?(S(),m("div",Vl,[(S(!0),m(x,null,T(l.tagStats,e=>(S(),m("div",{key:e.name,class:"tag-item"},[f("span",Ol,V(e.name),1),w(v,{percentage:e.percentage,color:e.color},null,8,["percentage","color"]),f("span",Il,V(e.count),1)]))),128))])):(S(),m("div",El,[...a[9]||(a[9]=[f("p",null,"暂无单词标签数据",-1)])]))])],2),f("div",{class:O(["stats-section",{"section-animate":l.isAnimated}])},[f("h3",zl,[f("span",Fl,[w(h)]),a[10]||(a[10]=f("span",{class:"section-text"},"学习效率",-1))]),f("div",Ml,[f("div",Ll,[f("div",{class:O(["efficiency-circle",{efficient:l.efficiencyScore>70}])},null,2),f("div",Al,V(l.efficiencyScore),1),a[11]||(a[11]=f("div",{class:"efficiency-label"},"效率评分",-1))])])],2)])]),_:1}),w(_,{modelValue:l.showTargetDialog,"onUpdate:modelValue":a[3]||(a[3]=e=>l.showTargetDialog=e),title:"设置每日目标",width:"30%"},{footer:y(()=>[f("span",Pl,[w(D,{onClick:a[2]||(a[2]=e=>l.showTargetDialog=!1)},{default:y(()=>[...a[13]||(a[13]=[C("取消",-1)])]),_:1}),w(D,{type:"primary",onClick:l.saveDailyTarget},{default:y(()=>[...a[14]||(a[14]=[C("确定",-1)])]),_:1},8,["onClick"])])]),default:y(()=>[f("div",Ul,[a[12]||(a[12]=f("p",null,"请设置您的每日单词学习目标：",-1)),w(k,{modelValue:l.tempTarget,"onUpdate:modelValue":a[1]||(a[1]=e=>l.tempTarget=e),min:1,max:100,label:"每日目标",class:"target-input"},null,8,["modelValue"])])]),_:1},8,["modelValue"])])}],["__scopeId","data-v-7e8be871"]]),LoadingOverlay:Le(ql,[["__scopeId","data-v-469dd729"]])},setup(){const e=a("add"),t=a(null),l=a(window.innerWidth),s=a(!0),n=a(!1),r=a(!1),o=a(!1),i=a("加载中..."),c=localStorage.getItem("dailyEnglishTarget"),u=a(c?parseInt(c):20),g=a({show:!1,message:"",type:"success"}),v=p(()=>l.value<=768),m=Me(),f=p(()=>m.words),w=p(()=>m.totalWords),y=p(()=>m.todayWords),b=p(()=>m.studyDays),S=p(()=>({add:"添加单词",view:"查看记录",search:"搜索单词",practice:"单词练习",diary:"学习日记",stats:"学习统计"}[e.value]||"英语学习日记")),k=(e,a="success")=>{ie.notify(e,C.value,a)},C=p(()=>({success:"成功",warning:"警告",error:"错误",info:"提示"}[g.value.type]||"提示")),D=()=>{l.value=window.innerWidth};d(e,e=>{"view"===e&&setTimeout(()=>{n.value=!0},300)}),h(()=>{window.addEventListener("resize",D);const e=localStorage.getItem("dailyEnglishTarget");e&&(u.value=parseInt(e)),m.initialized?setTimeout(()=>{n.value=!0},500):m.initialize().finally(()=>{setTimeout(()=>{n.value=!0},500)})}),U(()=>{window.removeEventListener("resize",D)});const _=async()=>{try{o.value=!0,i.value="导出中...";const e=await m.exportData(),a=JSON.stringify(e,null,2),t=new Blob([a],{type:"application/json"}),l=URL.createObjectURL(t),s=document.createElement("a");s.href=l,s.download=`english_learning_${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(l),k("数据导出成功","success")}catch(e){k("导出数据失败","error")}finally{o.value=!1}},x=()=>{var e;null==(e=t.value)||e.click(),r.value=!1},T=async()=>{if(confirm("确定要清空所有数据吗？此操作不可恢复！"))try{o.value=!0,i.value="清空数据中...";if(!(await m.clearAllData()))throw new Error("清空操作未能完全成功");k("所有数据已清空","warning")}catch(e){k("清空数据失败","error")}finally{o.value=!1}r.value=!1};return q("loading",{show:(e="加载中...")=>{i.value=e,o.value=!0},hide:()=>{o.value=!1}}),{currentTab:e,fileInput:t,notification:g,totalWords:w,todayWords:y,studyDays:b,isMobile:v,contentVisible:s,showStats:n,isLoading:o,loadingText:i,showMobileDataMenu:r,getNotificationTitle:C,getPageTitle:S,words:f,switchTab:a=>{s.value=!1,setTimeout(()=>{e.value=a,setTimeout(()=>{s.value=!0},50)},200)},showNotification:k,hideNotification:()=>{g.value.show=!1},refreshStats:async()=>{try{await m.loadFromDB(),k("数据已刷新","success")}catch(e){k("刷新数据失败","error")}},exportData:_,triggerImport:x,handleImport:async e=>{const a=e.target.files[0];if(!a)return;const t=new FileReader;t.onload=async a=>{var t;try{o.value=!0,i.value="导入中...";const l=JSON.parse(a.target.result);let s=0,n={};if(l.words&&l.diaries)n={words:l.words,diaries:l.diaries};else{if(!Array.isArray(l))throw new Error("无效的数据格式");n={words:l.map(e=>({id:e.id||Date.now()+Math.random().toString(36).substr(2,9),word:e.word||e.name||e.wordName||"",meaning:e.meaning||e.definition||e.translation||"",phonetic:e.phonetic||e.pronunciation||"",example:e.example||e.sample||"",tags:e.tags||[],date:e.date||(new Date).toISOString().split("T")[0],reviewCount:e.reviewCount||0,mastered:e.mastered||!1})).filter(e=>e.word&&e.meaning),diaries:{}}}if(!(await m.importData(n)))throw new Error("导入过程中出现错误");{const e=m.totalWords-((null==(t=n.words)?void 0:t.length)||0);s=m.totalWords-e,k(`成功导入 ${s} 个单词`,"success")}e.target.value="",r.value=!1}catch(l){k("数据导入失败："+l.message,"error")}finally{o.value=!1}},t.readAsText(a)},clearData:T,beforeTabLeave:()=>(s.value=!1,new Promise(e=>{setTimeout(()=>{e()},200)})),onTabClick:()=>{s.value=!0,"view"===e.value&&setTimeout(()=>{n.value=!0},300)},handleDataCommand:e=>{switch(e){case"import":x();break;case"export":_();break;case"clear":T()}}}}},[["render",function(e,a,t,l,s,n){const r=b("el-statistic"),o=b("el-header"),i=b("AddWord"),d=b("el-tab-pane"),c=b("ViewWords"),u=b("SearchWords"),p=b("PracticeWords"),g=b("Diary"),v=b("StatsView"),h=b("arrow-down"),k=b("el-icon"),_=b("el-dropdown-item"),x=b("el-dropdown-menu"),T=b("el-dropdown"),V=b("el-tabs"),I=b("el-main"),F=b("el-container"),M=b("Plus"),L=b("View"),A=b("Search"),U=b("EditPen"),P=b("Document"),j=b("TrendCharts"),q=b("Setting"),N=b("Upload"),$=b("el-button"),Y=b("Download"),B=b("Delete"),J=b("el-drawer"),Q=b("el-notification");return S(),m("div",Nl,[w(F,{class:"container"},{default:y(()=>[w(o,{class:"header"},{default:y(()=>[f("div",$l,[f("div",Yl,[a[10]||(a[10]=f("div",{class:"app-title"},[f("div",{class:"title-icon"},"📚"),f("h1",null,"英语学习日记")],-1)),l.isMobile?D("",!0):(S(),m("div",Bl,[w(r,{title:"总单词数",value:l.totalWords},null,8,["value"]),w(r,{title:"今日学习",value:l.todayWords},null,8,["value"]),w(r,{title:"学习天数",value:l.studyDays},null,8,["value"])]))])])]),_:1}),w(I,null,{default:y(()=>[w(V,{modelValue:l.currentTab,"onUpdate:modelValue":a[0]||(a[0]=e=>l.currentTab=e),type:"border-card",class:"tabs","before-leave":l.beforeTabLeave,onTabClick:l.onTabClick},{default:y(()=>[w(d,{label:"添加单词",name:"add"},{default:y(()=>[w(E,{name:"fade"},{default:y(()=>[z(f("div",null,[w(i)],512),[[R,l.contentVisible]])]),_:1})]),_:1}),w(d,{label:"查看记录",name:"view"},{default:y(()=>[w(E,{name:"fade"},{default:y(()=>[z(f("div",null,[w(c,{"show-stats":l.showStats},null,8,["show-stats"])],512),[[R,l.contentVisible]])]),_:1})]),_:1}),w(d,{label:"搜索单词",name:"search"},{default:y(()=>[w(E,{name:"fade"},{default:y(()=>[z(f("div",null,[w(u)],512),[[R,l.contentVisible]])]),_:1})]),_:1}),w(d,{label:"单词练习",name:"practice"},{default:y(()=>[w(E,{name:"fade"},{default:y(()=>[z(f("div",null,[w(p)],512),[[R,l.contentVisible]])]),_:1})]),_:1}),w(d,{label:"学习日记",name:"diary"},{default:y(()=>[w(E,{name:"fade"},{default:y(()=>[z(f("div",null,[w(g)],512),[[R,l.contentVisible]])]),_:1})]),_:1}),w(d,{label:"学习统计",name:"stats"},{default:y(()=>[w(E,{name:"fade"},{default:y(()=>[z(f("div",null,[w(v)],512),[[R,l.contentVisible]])]),_:1})]),_:1}),l.isMobile?D("",!0):(S(),W(d,{key:0,name:"data"},{label:y(()=>[w(T,{onCommand:l.handleDataCommand},{dropdown:y(()=>[w(x,null,{default:y(()=>[w(_,{command:"import"},{default:y(()=>[...a[12]||(a[12]=[C("导入数据",-1)])]),_:1}),w(_,{command:"export"},{default:y(()=>[...a[13]||(a[13]=[C("导出数据",-1)])]),_:1}),w(_,{command:"clear",divided:""},{default:y(()=>[...a[14]||(a[14]=[C("清空数据",-1)])]),_:1})]),_:1})]),default:y(()=>[f("span",Jl,[a[11]||(a[11]=C(" 数据管理 ",-1)),w(k,{class:"el-icon--right"},{default:y(()=>[w(h)]),_:1})])]),_:1},8,["onCommand"])]),_:1}))]),_:1},8,["modelValue","before-leave","onTabClick"])]),_:1})]),_:1}),l.isMobile?(S(),m("div",Ql,[f("div",{class:O(["mobile-nav-item",{active:"add"===l.currentTab}]),onClick:a[1]||(a[1]=e=>l.switchTab("add"))},[f("div",Kl,[w(k,null,{default:y(()=>[w(M)]),_:1})]),a[15]||(a[15]=f("span",null,"添加",-1))],2),f("div",{class:O(["mobile-nav-item",{active:"view"===l.currentTab}]),onClick:a[2]||(a[2]=e=>l.switchTab("view"))},[f("div",Hl,[w(k,null,{default:y(()=>[w(L)]),_:1})]),a[16]||(a[16]=f("span",null,"查看",-1))],2),f("div",{class:O(["mobile-nav-item",{active:"search"===l.currentTab}]),onClick:a[3]||(a[3]=e=>l.switchTab("search"))},[f("div",Zl,[w(k,null,{default:y(()=>[w(A)]),_:1})]),a[17]||(a[17]=f("span",null,"搜索",-1))],2),f("div",{class:O(["mobile-nav-item",{active:"practice"===l.currentTab}]),onClick:a[4]||(a[4]=e=>l.switchTab("practice"))},[f("div",Gl,[w(k,null,{default:y(()=>[w(U)]),_:1})]),a[18]||(a[18]=f("span",null,"练习",-1))],2),f("div",{class:O(["mobile-nav-item",{active:"diary"===l.currentTab}]),onClick:a[5]||(a[5]=e=>l.switchTab("diary"))},[f("div",Xl,[w(k,null,{default:y(()=>[w(P)]),_:1})]),a[19]||(a[19]=f("span",null,"日记",-1))],2),f("div",{class:O(["mobile-nav-item",{active:"stats"===l.currentTab}]),onClick:a[6]||(a[6]=e=>l.switchTab("stats"))},[f("div",es,[w(k,null,{default:y(()=>[w(j)]),_:1})]),a[20]||(a[20]=f("span",null,"统计",-1))],2),f("div",{class:"mobile-nav-item",onClick:a[7]||(a[7]=e=>l.showMobileDataMenu=!0)},[f("div",as,[w(k,null,{default:y(()=>[w(q)]),_:1})]),a[21]||(a[21]=f("span",null,"管理",-1))])])):D("",!0),w(J,{modelValue:l.showMobileDataMenu,"onUpdate:modelValue":a[8]||(a[8]=e=>l.showMobileDataMenu=e),title:"数据管理",direction:"btt",size:"200px"},{default:y(()=>[f("div",ts,[w($,{type:"primary",onClick:l.triggerImport,style:{width:"100%","margin-bottom":"10px"}},{default:y(()=>[w(k,null,{default:y(()=>[w(N)]),_:1}),a[22]||(a[22]=C(" 导入数据 ",-1))]),_:1},8,["onClick"]),w($,{type:"success",onClick:l.exportData,style:{width:"100%","margin-bottom":"10px"}},{default:y(()=>[w(k,null,{default:y(()=>[w(Y)]),_:1}),a[23]||(a[23]=C(" 导出数据 ",-1))]),_:1},8,["onClick"]),w($,{type:"danger",onClick:l.clearData,style:{width:"100%"}},{default:y(()=>[w(k,null,{default:y(()=>[w(B)]),_:1}),a[24]||(a[24]=C(" 清空数据 ",-1))]),_:1},8,["onClick"])])]),_:1},8,["modelValue"]),f("input",{ref:"fileInput",type:"file",accept:".json",style:{display:"none"},onChange:a[9]||(a[9]=(...e)=>l.handleImport&&l.handleImport(...e))},null,544),l.notification.show?(S(),W(Q,{key:1,title:l.getNotificationTitle,message:l.notification.message,type:l.notification.type,position:"top-right",duration:3e3,onClose:l.hideNotification},null,8,["title","message","type","onClose"])):D("",!0)])}],["__scopeId","data-v-df884a20"]]),ss={key:0,class:"error-boundary"};const ns=Le({name:"ErrorBoundary",props:{fallback:{type:Function,default:null}},data:()=>({hasError:!1,errorMessage:""}),methods:{resetError(){this.hasError=!1,this.errorMessage=""}},errorCaptured(e,a,t){return this.hasError=!0,this.errorMessage=e.message||"未知错误",this.fallback&&this.fallback(e,a,t),!1}},[["render",function(e,a,t,l,s,n){const r=b("el-button"),o=b("el-result");return s.hasError?(S(),m("div",ss,[w(o,{icon:"error",title:"出错了","sub-title":s.errorMessage||"应用遇到了一个问题"},{extra:y(()=>[w(r,{type:"primary",onClick:n.resetError},{default:y(()=>[...a[0]||(a[0]=[C("重试",-1)])]),_:1},8,["onClick"])]),_:1},8,["sub-title"])])):N(e.$slots,"default",{key:1},void 0,!0)}],["__scopeId","data-v-66b0e60c"]]);
/*! Element Plus v2.11.5 */const rs=$(ls),os=function(){const l=e(!0),s=l.run(()=>a({}));let n=[],r=[];const o=t({install(e){ce(o),o._a=e,e.provide(ue,o),e.config.globalProperties.$pinia=o,r.forEach(e=>n.push(e)),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:l,_s:new Map,state:s});return o}();rs.component("ErrorBoundary",ns),rs.config.errorHandler=(e,a,t)=>{ie.error("应用发生错误，请刷新页面重试")},rs.config.globalProperties.$notify=ie,rs.use(os),rs.use(re,{locale:{name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值",alphaDescription:"透明度 {alpha}, 当前颜色 {color}",hueLabel:"选择色相值",hueDescription:"色相 {hue}, 当前颜色 {color}"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},mention:{loading:"加载中"},dropdown:{toggleDropdown:"切换下拉选项"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 Delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览",close:"关闭此对话框"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}}});Me(os).initialize(),rs.mount("#app");
